---
page_title: "Kubectl Provider"
description: |-
  The kubectl provider enables Terraform to deploy and manage Kubernetes resources using YAML manifests.
---

# Kubectl Provider

The kubectl provider enables Terraform to deploy and manage Kubernetes resources using YAML manifests.

This provider is the best way of managing Kubernetes resources in Terraform, by allowing you to use the thing Kubernetes loves best - yaml!

This core of this provider is the `kubectl_manifest` resource, allowing free-form yaml to be processed and applied against Kubernetes. This yaml object is then tracked and handles creation, updates and deleted seamlessly - including drift detection!

A set of helpful data resources to process directories of yaml files and inline templating is available.

This `terraform-provider-kubectl` provider has been originally forked from `gavinbunney/kubectl` and followed a separate development path from the version 0.14

## Example Usage

```terraform
provider "kubectl" {
  # Configuration can be provided via environment variables or explicitly

  # Load kubeconfig from default location
  # load_config_file = true

  # Or specify a custom kubeconfig path
  # config_path = "~/.kube/config"

  # Or specify explicit cluster connection details
  # host = "https://cluster.example.com"
  # token = "your-token-here"
  # cluster_ca_certificate = file("ca.crt")

  # Number of retries for apply operations (default: 1)
  # apply_retry_count = 3
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Optional

- `apply_retry_count` (Number) Defines the number of attempts any create/update action will take. Defaults to 1. Can be set with KUBECTL_PROVIDER_APPLY_RETRY_COUNT environment variable.
- `client_certificate` (String) PEM-encoded client certificate for TLS authentication. Can be set with KUBE_CLIENT_CERT_DATA environment variable.
- `client_key` (String, Sensitive) PEM-encoded client certificate key for TLS authentication. Can be set with KUBE_CLIENT_KEY_DATA environment variable.
- `cluster_ca_certificate` (String) PEM-encoded root certificates bundle for TLS authentication. Can be set with KUBE_CLUSTER_CA_CERT_DATA environment variable.
- `config_context` (String) Context to use in kubeconfig. Can be set with KUBE_CTX environment variable.
- `config_context_auth_info` (String) Authentication info context of the kube config. Can be set with KUBE_CTX_AUTH_INFO environment variable.
- `config_context_cluster` (String) Cluster context of the kube config. Can be set with KUBE_CTX_CLUSTER environment variable.
- `config_path` (String) Path to the kube config file. Defaults to ~/.kube/config. Can be set with KUBE_CONFIG, KUBECONFIG, or KUBE_CONFIG_PATH environment variables.
- `config_paths` (List of String) A list of paths to kube config files. Can be set with KUBE_CONFIG_PATHS environment variable.
- `exec` (Block List) Configuration for exec-based authentication to Kubernetes API. (see [below for nested schema](#nestedblock--exec))
- `host` (String) The hostname (in form of URI) of Kubernetes master. Can be set with KUBE_HOST environment variable.
- `insecure` (Boolean) Whether server should be accessed without verifying the TLS certificate. Can be set with KUBE_INSECURE environment variable.
- `load_config_file` (Boolean) Load local kubeconfig. Defaults to true. Can be set with KUBE_LOAD_CONFIG_FILE environment variable.
- `password` (String, Sensitive) The password to use for HTTP basic authentication when accessing the Kubernetes master endpoint. Can be set with KUBE_PASSWORD environment variable.
- `proxy_url` (String) URL to the proxy to be used for all API requests. Can be set with KUBE_PROXY_URL environment variable.
- `tls_server_name` (String) Server name passed to the server for SNI and is used in the client to check server certificates against. Can be set with KUBE_TLS_SERVER_NAME environment variable.
- `token` (String, Sensitive) Token to authenticate a service account. Can be set with KUBE_TOKEN environment variable.
- `username` (String) The username to use for HTTP basic authentication when accessing the Kubernetes master endpoint. Can be set with KUBE_USER environment variable.

<a id="nestedblock--exec"></a>
### Nested Schema for `exec`

Required:

- `api_version` (String) API version to use for exec authentication.
- `command` (String) Command to execute for authentication.

Optional:

- `args` (List of String) Arguments to pass to the command.
- `env` (Map of String) Environment variables to set when executing the command.
